<!DOCTYPE html>
<html lang="en-us">
  <head>
  <title>Welcome to My Site!</title>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <meta name="description" content="My personal website and blog" />
  <meta name="author" content="Jason Eckert" />
  <meta name="generator" content="Jason Eckert Hugo 0.95.0" />

  <link
    rel="stylesheet"
    href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
    crossorigin="anonymous"
  />
  <link
    rel="stylesheet"
    href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"
  />
  <link
    href="https://fonts.googleapis.com/css?family=Overlock|Roboto+Mono&display=swap"
    rel="stylesheet"
  />
  <link rel="stylesheet" href="/css/mero.css" />

  <script src="/js/mero.js"></script>
</head>

  <body class="bg-dark text-white m-auto" style="width:95%; max-width: 1024px;">
    <div class="wrapper">
      <nav class="mb-3 mt-3 ml-1">
  <div class="d-flex flex-row">
    <div
      class="menu-item border border-warning bg-dark p-2"
      style="border-top-left-radius: 10px; border-bottom-left-radius: 10px;"
    >
      <a href="/"><span>Home</span> </a>
    </div>
    <div class="menu-item dropdown border border-warning bg-dark p-2">
      <span class="dropbtn text-warning" onclick="toggleMenu(this)"
        >Sections <i class="fas fa-angle-down"></i
      ></span>
      <div
        class="dropdown-content p-2 bg-dark2 mt-2 rounded w-auto mt-1 d-none"
        style="min-width: 200px;"
      >
        <ul class="list-unstyled">
          
          
          
          <li class="pt-2">
            <a href="https://jasoneckert.github.io/myblog/">Blog Posts</a>
          </li>
          
          
          
          
          <li class="pt-2">
            <a href="https://jasoneckert.github.io/bio/">About Me</a>
          </li>
          
          
          
          
          <li class="pt-2">
            <a href="https://jasoneckert.github.io/reads/">Recommended Reads</a>
          </li>
          
          
          
          
          <li class="pt-2">
            <a href="https://jasoneckert.github.io/info/">Tech Stuff</a>
          </li>
          
          
          
          
          
          
          
          
        </ul>
      </div>
    </div>
    <div class="menu-item border border-warning bg-dark p-2">
      <a
        href="/alltaxa/"
        ><span>Search</span>
      </a>
    </div>
    <div class="menu-item border border-warning bg-dark p-2"
    style="border-top-right-radius: 10px; border-bottom-right-radius: 10px;">
      <a
        href="/archive/"
        ><span>Archive</span>
      </a>
    </div>
  </div>
</nav>

      <main>
        
<article class="border rounded p-3 position-relative" style="margin-top: 2.5em;">
  <div class="header">
    <h1 style="font-size: 2.5em;">
      Using Asahi Linux as a developer workstation
    </h1>
    <div
    class="mb-1 mr-3 pl-1 pr-1 rounded bg-dark"
    style="position: absolute; top: -19px; font-size: 0.9em;"
  >
    <time>2022-04-01</time>    
    <span
      class="more"
      style="font-size: 1.5em;"
      title="Show Metadata"
      onclick="showMetadata(this)"
    >
      &#43;
    </span>
  </div><div class="m-2 metadata overflow-hidden" style="max-height: 0px;">
  
  <div class="metadata-value mb-1 taxa taxa-container-div list-sections">
    <div>
      Reading Time: 
6 mins
      
    </div>
    <div>
      Section:
      <a
        class="pl-1 pr-1 rounded border border-secondary"
        href="/myblog"
        title="Section"
      >Blog Posts</a>
    </div>
  </div>
  

  
  
  
  <div class="metadata-value mb-1 taxa taxa-container-div list-categories">
    Categories:
    
    <a
      class="pl-1 pr-1 rounded border border-secondary"
      href="/categories/blog"
      title="categories"
    >blog</a>
    
  </div>
  
  
  
  <div class="metadata-value mb-1 taxa taxa-container-div list-tags">
    Tags:
    
    <a
      class="pl-1 pr-1 rounded border border-secondary"
      href="/tags/tech"
      title="tags"
    >tech</a>
    
    <a
      class="pl-1 pr-1 rounded border border-secondary"
      href="/tags/development"
      title="tags"
    >development</a>
    
    <a
      class="pl-1 pr-1 rounded border border-secondary"
      href="/tags/programming"
      title="tags"
    >programming</a>
    
    <a
      class="pl-1 pr-1 rounded border border-secondary"
      href="/tags/unix"
      title="tags"
    >UNIX</a>
    
    <a
      class="pl-1 pr-1 rounded border border-secondary"
      href="/tags/linux"
      title="tags"
    >Linux</a>
    
    <a
      class="pl-1 pr-1 rounded border border-secondary"
      href="/tags/it"
      title="tags"
    >IT</a>
    
    <a
      class="pl-1 pr-1 rounded border border-secondary"
      href="/tags/computing"
      title="tags"
    >computing</a>
    
  </div>
  
  
</div>
</div>
  <div class="article pb-3 pt-3 border-bottom border-top">
    
    <p>Exactly 2 weeks ago today, the first (alpha) release of Asahi Linux was made available. I immediately installed it, and I&rsquo;ve been using it as a developer workstation ever since to get real work done&hellip; and it&rsquo;s been awesome.
<img src="Asahi_M1.jpeg#right" alt="Asahi M1" title="Asahi M1"></p>
<h1 id="what-is-asahi-linux">What is Asahi Linux?</h1>
<p>Asahi is the first Linux distribution that you can install natively on Apple M1-based (arm64) systems. It&rsquo;s based on Arch Linux and is <em><strong>unbelievably</strong></em> fast. And while it&rsquo;s missing a few features that will be added shortly (GPU acceleration, Bluetooth, sound), it&rsquo;s otherwise very polished and 100% production-ready. Moreover, it runs my software much faster than macOS on the same hardware. In this post, I&rsquo;ll examine my setup, experience, and impressions.</p>
<h1 id="my-hardware-setup">My hardware setup:</h1>
<ul>
<li>Mac Mini M1 (16GB RAM, 500GB SSD)</li>
<li>HDMI output to 34&quot; monitor</li>
<li>Lenovo ThinkPad II keyboard (2.4GHz connection)</li>
<li>Glorious PC wired USB gaming mouse</li>
<li>Wired Ethernet (although Wi-Fi works perfectly in Asahi)</li>
</ul>
<h1 id="my-software-setup">My software setup:</h1>
<ul>
<li>Desktops: GNOME &amp; i3 (I mainly use i3)</li>
<li>Web browser: Firefox</li>
<li>Code editor: <code>vim</code> plus the developer extras</li>
<li>Development: Java, JavaScript, Python, PostgreSQL</li>
<li>Versioning &amp; devops: Git, Git Cola, Docker, K3s, Ansible</li>
<li>Collaboration: MS Teams (via Firefox), GitHub, slack-term</li>
<li>Other: Hugo, LibreOffice, Gimp, Inkscape, Bluefish, Remmina (corporate RDP)</li>
</ul>
<h1 id="what-ive-noticed-using-asahi">What I&rsquo;ve noticed using Asahi:</h1>
<ul>
<li>While I&rsquo;ve traditionally used mostly Fedora and Ubuntu Linux, I&rsquo;m really enjoying Arch, including their approach and package management. The Arch User Repository (AUR), <code>pacman</code> and <code>yay</code> are excellent, and examining PKGBUILDs/.pacnew/.pacsave is a breeze. Plus, you get to use the phrase:
<img src="archbtw.png#center" alt="I use Arch BTW" title="I use Arch BTW"></li>
<li>Even with CPU-generated graphics (because GPU acceleration isn&rsquo;t available yet), desktop environments and apps are lightning fast. I&rsquo;ve never seen KDE, GNOME, LibreOffice, Gimp, Inkscape, and Firefox run so fast before. Even games (e.g. SuperTuxKart) run smoothly, as does high definition video using VLC. Website embedded video (e.g. YouTube) also runs perfectly within Firefox in i3 (it randomly stalls within Firefox in KDE/GNOME due to lack of GPU acceleration).</li>
<li>Lack of Bluetooth and sound right now doesn&rsquo;t bother me at all. I use a non-Bluetooth keyboard and mouse, and listen to my phone playlist using Bose headphones while I work.</li>
<li>The only apps that don&rsquo;t run include proprietary apps that don&rsquo;t have an arm64 build (e.g. Slack), as well as Electron- and Chromium-based apps (e.g. VSCode, Chrome, etc.) because of the M1&rsquo;s 16K page size that is apparently going to be fixed shortly with a new Linux kernel. Websites run just as well in Firefox (including Microsoft Teams, Outlook, YouTube, Twitter, etc.), and while I&rsquo;ve been spoiled by VSCode these past few years, returning to <code>vim</code> with the developer extras has shown me that VSCode was really just unnecessary eye candy that didn&rsquo;t actually make me faster. Slack probably won&rsquo;t make a graphical arm64 Linux app anytime soon, but the <code>slack-term</code> terminal version works very well.</li>
<li>Services and terminal apps also run incredibly fast. Hugo composites this website in half the time it does on macOS on the same machine, and my Docker development containers and K3s setup also run much, much faster on Asahi. This makes sense, because to run containers on macOS, macOS must run them in a Linux virtual machine (while Asahi can run them natively).</li>
<li>CPU usage rarely rises above 30%, even with a dozen or more graphical apps open and many background services and containers running. With my workload, RAM usage varies between 1GB and 5GB in total, which is also much less than what I had with the same workload on macOS.</li>
</ul>
<h1 id="desktop-pics">Desktop pics:</h1>
<p>KDE Plasma is the desktop environment that is installed by default on Asahi Linux. However, I&rsquo;ve never been a fan of KDE (it resembles Windows too much), so I installed the GNOME desktop environment shown in the following two pics:</p>
<p><img src="Asahi_GNOME1.png#center" alt="Asahi GNOME 1" title="Asahi GNOME 1"></p>
<p><img src="Asahi_GNOME2.png#center" alt="Asahi GNOME 2" title="Asahi GNOME 2"></p>
<p>However, as a Linux admin and developer, I&rsquo;ll benefit from a more powerful desktop that I can customize for my exact needs. I prefer the i3 tiling window manager (described in <a href="../../myblog/configuring-i3/" title="my previous blog post">my previous blog post</a>) for this purpose. Following are five pics of my i3 desktop configuration on Asahi Linux:</p>
<p><img src="Asahi_i3_background.png#center" alt="Asahi i3 background" title="Asahi i3 background"></p>
<p><img src="Asahi_i3_1.png#center" alt="Asahi i3 1" title="Asahi i3 1"></p>
<p><img src="Asahi_i3_2.png#center" alt="Asahi i3 2" title="Asahi i3 2"></p>
<p><img src="Asahi_i3_3.png#center" alt="Asahi i3 3" title="Asahi i3 3"></p>
<p><img src="Asahi_i3_4.png#center" alt="Asahi i3 4" title="Asahi i3 4"></p>
<h1 id="what-does-this-mean-for-apple-apple-hardware-and-macos">What does this mean for Apple, Apple hardware and macOS?</h1>
<p>Back in 2004 when I first dove into the Apple ecosystem, macOS (then called Mac OS X) was an incredible UNIX operating system that was quite open, and very polished compared to Linux at the time. The merits of macOS drove Mac sales at a time when PowerPC-based Macs were more expensive and less powerful than their similarly-priced PC counterparts.</p>
<p>However, Linux has since evolved far more than macOS, especially during the rise of open source and cloud technologies this past decade. And while Linux doesn&rsquo;t have the same mainstream user adoption on the desktop that Windows and macOS have (Chromebooks excluded), it&rsquo;s far more polished and powerful.</p>
<p>Today, those who buy a Mac often do so for the hardware. Apple deserves a lot of credit for their new M1 platform (as well as adding ports to their products again). However, after running Linux natively on the M1, it&rsquo;s quite apparent how much macOS has stagnated over the years. macOS is still a decent OS that will be used by a large number of people for decades to come, but where Apple shines today is in their hardware. And while Apple didn&rsquo;t help port Linux to the M1 (Asahi developers had to reverse engineer everything), they designed the M1 to allow for the installation and booting of other operating systems. Linux was just the first. After the exclusivity deal between Qualcomm and Microsoft ends (soon), I anticipate that Microsoft will release arm64 versions of Windows for the M1.</p>
<p>Prior to the M1, Apple made it easy for Windows to install natively on their Macs using Bootcamp. Linux also ran well on them (but without device driver help from Apple). This led to more people buying Macs, and I think this is the reason why Apple has designed the M1 to allow for the installation of other operating systems.</p>
<h1 id="the-installation-process">The installation process:</h1>
<p>While there are several YouTube videos that you can view to see the installation process, I&rsquo;ll nonetheless say a few words about it here.</p>
<p>In short, it&rsquo;s very easy. You run a script from macOS that shrinks your macOS installation to free up space for Asahi (I freed up 100GB). Once Asahi is installed, it reboots into macOS recovery mode and completes the installation. The whole process takes about 30 minutes and each step is explained thoroughly by the installer.</p>
<p>The hardware components currently supported by each model of M1-based Mac is well-documented on the Asahi Linux site. If you&rsquo;re installing on a Mac Mini, you&rsquo;ll see that GPU acceleration, sound, DisplayPort and Bluetooth are still in development. Everything else just works fine – USB drives, Wi-Fi, Ethernet, HDMI, and so on.</p>
<p>After installation, the installer sets Asahi as the default OS to boot from, but you can easily boot to macOS by holding down the power button on system startup and selecting the macOS icon from the startup menu (you can make macOS the default boot target if you hold down the Option/Alt key when choosing macOS on this menu). Asahi runs in permissive security mode on the M1 CPU because it’s a non-Apple OS, but this doesn’t affect macOS whatsoever, which runs with full protection, including all security options and drive encryption (you can verify this after booting macOS by running <code>csrutil status</code> at a Terminal prompt).</p>
<p>If you ever want to remove Asahi Linux, it&rsquo;s also very easy to do. You can boot into macOS and remove the volumes created by Asahi (they are easy to identify in the Disk Utility), or you can run the uninstall script from the Asahi Linux site.</p>

  </div>
  <div class="mt-4 d-flex flex-row justify-content-around">
  <div><i class="text-secondary fas fa-chevron-circle-left" style="font-size: 2em;"></i></div>
  <div>
    <a
      href="/myblog/configuring-i3/"
      data-toggle="tooltip"
      data-placement="top"
      title="Configuring the i3 Window Manager"
      ><i class="fas fa-chevron-circle-right" style="font-size: 2em;"></i></a
    >
  </div>
</div>

</article>
<script>
  let showMetadata = function(x) {
    let elem = x.parentNode.nextElementSibling;
    if (window.getComputedStyle(elem)["height"] === "0px") {
      elem.style.maxHeight = elem.scrollHeight + "px";
      x.innerHTML = "&times;";
      x.title = "Hide Metadata";
    } else {
      elem.style.maxHeight = "0px";
      x.innerHTML = "&#43;";
      x.title = "Show Metadata";
    }
  };
</script>


      </main>
    </div>
    <footer>
  <div class="w-60 bg-danger ml-auto mr-auto mt-4" style="height: 4px;"></div>
  <div class="mt-0 mb-0" style="font-size: 1.9em;">
    <p class="text-center">
      WARNING: FULL FRONTAL NERDITY 
    </p>
  </div>
  <div class="mt-0 mb-0" style="font-size: 1.0em;">
    <p class="text-center">
      (Tech-challenged persons strongly cautioned) 
    </p>
  </div>
</footer>

  </body>
</html>

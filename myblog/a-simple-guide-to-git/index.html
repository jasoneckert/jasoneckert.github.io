<!DOCTYPE html>
<html lang="en-us">
  <head>
  <title>Jason Eckert&#39;s Website and Blog</title>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <meta name="description" content="My personal website and blog" />
  <meta name="author" content="Jason Eckert" />
  <meta name="generator" content="Jason Eckert Hugo 0.119.0" />

  <link
    rel="stylesheet"
    href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
    crossorigin="anonymous"
  />
  <link
    rel="stylesheet"
    href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"
  />
  <link
    href="https://fonts.googleapis.com/css?family=Overlock|Roboto+Mono&display=swap"
    rel="stylesheet"
  />
  <link rel="stylesheet" href="/css/mero.css" />

  <script src="/js/mero.js"></script>
</head>

  <body class="bg-dark text-white m-auto" style="width:95%; max-width: 1024px;">
    <div class="wrapper">
      <nav class="mb-3 mt-3 ml-1">
  <div class="d-flex flex-row">
    <div
      class="menu-item border border-warning bg-dark p-2"
      style="border-top-left-radius: 10px; border-bottom-left-radius: 10px;"
    >
      <a href="/"><span>Home</span> </a>
    </div>
    <div class="menu-item dropdown border border-warning bg-dark p-2">
      <span class="dropbtn text-warning" onclick="toggleMenu(this)"
        >Sections <i class="fas fa-angle-down"></i
      ></span>
      <div
        class="dropdown-content p-2 bg-dark2 mt-2 rounded w-auto mt-1 d-none"
        style="min-width: 200px;"
      >
        <ul class="list-unstyled">
          
          
          
          <li class="pt-2">
            <a href="https://jasoneckert.github.io/myblog/">Blog Posts</a>
          </li>
          
          
          
          
          <li class="pt-2">
            <a href="https://jasoneckert.github.io/bio/">About Me</a>
          </li>
          
          
          
          
          <li class="pt-2">
            <a href="https://jasoneckert.github.io/site/">My Policy on AI</a>
          </li>
          
          
          
          
          <li class="pt-2">
            <a href="https://jasoneckert.github.io/reads/">Recommended Reads</a>
          </li>
          
          
          
          
          <li class="pt-2">
            <a href="https://jasoneckert.github.io/info/">Tech Stuff</a>
          </li>
          
          
          
          
          
          
          
          
        </ul>
      </div>
    </div>
    <div class="menu-item border border-warning bg-dark p-2">
      <a
        href="/alltaxa/"
        ><span>Search</span>
      </a>
    </div>
    <div class="menu-item border border-warning bg-dark p-2"
    style="border-top-right-radius: 10px; border-bottom-right-radius: 10px;">
      <a
        href="/archive/"
        ><span>Archive</span>
      </a>
    </div>
  </div>
</nav>

      <main>
        
<article class="border rounded p-3 position-relative" style="margin-top: 2.5em;">
  <div class="header">
    <h1 style="font-size: 2.5em;">
      A simple guide to git
    </h1>
    <div
    class="mb-1 mr-3 pl-1 pr-1 rounded bg-dark"
    style="position: absolute; top: -19px; font-size: 0.9em;"
  >
    <time>2018-08-13</time>    
    <span
      class="more"
      style="font-size: 1.5em;"
      title="Show Metadata"
      onclick="showMetadata(this)"
    >
      &#43;
    </span>
  </div><div class="m-2 metadata overflow-hidden" style="max-height: 0px;">
  
  <div class="metadata-value mb-1 taxa taxa-container-div list-sections">
    <div>
      Reading Time: 
12 mins
      
    </div>
    <div>
      Section:
      <a
        class="pl-1 pr-1 rounded border border-secondary"
        href="/myblog"
        title="Section"
      >Blog Posts</a>
    </div>
  </div>
  

  
  
  
  <div class="metadata-value mb-1 taxa taxa-container-div list-categories">
    Categories:
    
    <a
      class="pl-1 pr-1 rounded border border-secondary"
      href="/categories/blog"
      title="categories"
    >blog</a>
    
  </div>
  
  
  
  <div class="metadata-value mb-1 taxa taxa-container-div list-tags">
    Tags:
    
    <a
      class="pl-1 pr-1 rounded border border-secondary"
      href="/tags/tech"
      title="tags"
    >tech</a>
    
    <a
      class="pl-1 pr-1 rounded border border-secondary"
      href="/tags/computing"
      title="tags"
    >computing</a>
    
    <a
      class="pl-1 pr-1 rounded border border-secondary"
      href="/tags/sysadmin"
      title="tags"
    >sysadmin</a>
    
    <a
      class="pl-1 pr-1 rounded border border-secondary"
      href="/tags/development"
      title="tags"
    >development</a>
    
    <a
      class="pl-1 pr-1 rounded border border-secondary"
      href="/tags/programming"
      title="tags"
    >programming</a>
    
    <a
      class="pl-1 pr-1 rounded border border-secondary"
      href="/tags/it"
      title="tags"
    >IT</a>
    
  </div>
  
  
</div>
</div>
  <div class="article pb-3 pt-3 border-bottom border-top">
    
    <p><img src="git1.png#center" alt="git1" title="git1"></p>
<p>Simply put, Git is a version control system that can be used to keep track of the changes that you make to files over time - it allows you to revert files to a previous state, or see who made changes to a file at different times if several people are working the those files collaboratively.</p>
<p>Git was original developed back in 2005 by Linus Torvalds (the creator of Linux) to aid in making changes to the Linux kernel, but has since become the most common open source version control system used today. You can run Git on most platforms, including Windows, Linux and macOS. Although people primarily use it today for version controlling software projects, you can use it to provide version control for any files on your system.  In this blog post, I’ll use it to provide version control and central access for Linux shell scripts (something that is very useful for Linux administrators).</p>
<h1 id="part-1-using-git-to-provide-local-version-control">PART 1: Using Git to provide local version control</h1>
<p>Git essentially takes snapshots (called commits) of the files that you have within a particular folder (called a repository, or repo) on your system. Each commit contains the changes you’ve made to the files since the last commit, so that you can easily rollback those changes (much like a Windows System Restore point). Before you use Git to create commits, you must first tell Git about yourself using the git config command, since that information must be added to each commit that you create:</p>
<pre tabindex="0"><code>[jason.eckert@csc-studev01 myscripts]$ git config --global user.name &#34;Jason Eckert&#34;
[jason.eckert@csc-studev01 myscripts]$ git config --global user.email &#34;jasonec@trios.com&#34;
</code></pre><p>To turn an existing folder into a Git repo, simply use the git init command.  For example, if you are in the myscripts directory under your home directory on a Linux system, you could run the following commands to turn the myscripts directory into a Git repo (this will also create a hidden .git folder underneath the myscripts directory):</p>
<pre tabindex="0"><code>[jason.eckert@csc-studev01 ~]$ pwd
/home/jason.eckert
[jason.eckert@csc-studev01 ~]$ cd myscripts/
[jason.eckert@csc-studev01 myscripts]$ pwd
/home/jason.eckert/myscripts
[jason.eckert@csc-studev01 myscripts]$ ls
chownscript.sh  filemaintain.sh  newuserscript.sh  seccheck.sh  sysusage.sh
[jason.eckert@csc-studev01 myscripts]$ git init
Initialized empty Git repository in /home/jason.eckert/myscripts/.git/
[jason.eckert@csc-studev01 myscripts]$ git status
On branch master

Initial commit

Untracked files:
  (use &#34;git add &lt;file&gt;...&#34; to include in what will be committed)

chownscript.sh
filemaintain.sh
newuserscript.sh
seccheck.sh
sysusage.sh

nothing added to commit but untracked files present (use &#34;git add&#34; to track)
[jason.eckert@csc-studev01 myscripts]$ _
</code></pre><p>Notice that the git status command above listed the files in the myscripts directory, but said that they were untracked - this is normal, because Git doesn’t assume you want everything version controlled. After creating a Git repo, you have to tell Git which files you want to version control by staging them with the git add command. Staging simply adds the files to an index that represents the files that Git can take a snapshot/commit of.</p>
<p>After the files have been staged, you can take snapshots of them using the git commit command. The following commands stage all the files in the myscripts folder using the * wildcard (because I’m lazy), shows that they are ready for committing, and then creates a new commit with the description “My first commit”:</p>
<pre tabindex="0"><code>[jason.eckert@csc-studev01 myscripts]$ git add *
[jason.eckert@csc-studev01 myscripts]$ git status
On branch master

Initial commit

Changes to be committed:
  (use &#34;git rm --cached &lt;file&gt;...&#34; to unstage)

new file:   chownscript.sh
new file:   filemaintain.sh
new file:   newuserscript.sh
new file:   seccheck.sh
new file:   sysusage.sh

[jason.eckert@csc-studev01 myscripts]$ git commit -m &#34;My first commit&#34;
[master (root-commit) 53f9566] My first commit
5 files changed, 60 insertions(+)
create mode 100755 chownscript.sh
create mode 100644 filemaintain.sh
create mode 100755 newuserscript.sh
create mode 100644 seccheck.sh
create mode 100644 sysusage.sh
[jason.eckert@csc-studev01 myscripts]$ _
</code></pre><p>Next, let’s modify the filemaintain.sh shell script using the vi editor, see that Git detected the modification, stage the files in our repo again, and create a new commit using an appropriate description of the changes that we made (in this example, I added XFS checking to the script):</p>
<pre tabindex="0"><code>[jason.eckert@csc-studev01 myscripts]$ vi filemaintain.sh
[jason.eckert@csc-studev01 myscripts]$ git status
On branch master
Changes not staged for commit:
  (use &#34;git add &lt;file&gt;...&#34; to update what will be committed)
  (use &#34;git checkout -- &lt;file&gt;...&#34; to discard changes in working directory)

modified:   filemaintain.sh

no changes added to commit (use &#34;git add&#34; and/or &#34;git commit -a&#34;)
[jason.eckert@csc-studev01 myscripts]$ git add *
[jason.eckert@csc-studev01 myscripts]$ git commit -m &#34;Added XFS checking to filemaintain.sh&#34;
[master 08e7f90] Added XFS checking to filemaintain.sh
1 file changed, 1 insertion(+)
[jason.eckert@csc-studev01 myscripts]$ _
</code></pre><p>To see a list of all commits (and who made them), you can use the git log command, and to rollback to a previous version of the file, you can use the git reset &ndash;hard command. Say, for example, that I didn’t like the XFS checking addition I made to filemaintain.sh and wanted to roll it back to the previous version. To see all the changes I made to the files in my repo, and rollback the change to “My first commit”, I could use the following commands (HEAD is simply a reference to the most recent commit):</p>
<pre tabindex="0"><code>[jason.eckert@csc-studev01 myscripts]$ git log
commit 08e7f90fd4c1820eab77968ee98c8a7682c43aa8
Author: Jason Eckert &lt;jasonec@trios.com&gt;
Date:   Mon Aug 13 14:54:20 2018 -0400

    Added XFS checking to filemaintain.sh

commit 53f95663c4a9f5b53f5ee8b86b91024fd9e1fc9a
Author: Jason Eckert &lt;jasonec@trios.com&gt;
Date:   Mon Aug 13 14:53:05 2018 -0400

    My first commit

[jason.eckert@csc-studev01 myscripts]$ git reset --hard 53f95663c4a9f5b53f5ee8b86b91024fd9e1fc9a
HEAD is now at 53f9566 My first commit
[jason.eckert@csc-studev01 myscripts]$ git log
commit 53f95663c4a9f5b53f5ee8b86b91024fd9e1fc9a
Author: Jason Eckert &lt;jasonec@trios.com&gt;
Date:   Mon Aug 13 14:53:05 2018 -0400

    My first commit

[jason.eckert@csc-studev01 myscripts]$ _
</code></pre><p>If I view the filemaintain.sh script now, the XFS stuff I added will no longer be there!</p>
<p>Here is a summary of git commands that you should find useful at this point:</p>
<ul>
<li><code>git config</code> Sets general Git parameters like user name and email</li>
<li><code>git init</code> Creates a Git repo within the current directory (also creates .git folder)</li>
<li><code>git add &lt;filenames&gt;</code> Adds the specified filenames to the Git index (called staging)</li>
<li><code>git rm &lt;filenames&gt;</code> Removes the specified filenames from the Git index</li>
<li><code>git commit -m &lt;description&gt;</code> Creates a snapshot/commit with a specified description</li>
<li><code>git status</code> Views the status of a repo</li>
<li><code>git log</code> Views the commit history of a repo</li>
<li><code>git reset --hard &lt;commit_ID&gt;</code> Reverts files within a repo to a previous commit</li>
</ul>
<p>If you are a triOS/Eastern College student and have access to triosdevelopers.com or easterndevelopers.ca, you can remotely connect to your home directory using Secure Shell (SSH) and perform all of the commands I’ve performed above. If you are using a macOS or Linux computers, simply run the ssh <a href="mailto:username@triosdevelopers.com">username@triosdevelopers.com</a> or ssh <a href="mailto:username@easterndevelopers.ca">username@easterndevelopers.ca</a> command from a BASH shell prompt and supply your password when prompted.  If you are using Windows, simply download and run the free Putty program and specify to connect to triosdevelopers.com or easterndevelopers.ca with SSH, and then supply your username and password when prompted.</p>
<h1 id="part-2-using-git-collaboratively">PART 2: Using Git collaboratively</h1>
<p>While we just saw how Git can perform version control for your local files, other users can download (or clone) copies of your Git repos on the same computer, or across a network (LAN or Internet). Those users can then create commits periodically after making changes to the files in their cloned repo, and then push those changes back to your original repo. Any computer running Git can clone a Git repo from any other computer running Git, regardless of the operating system used, and there are many Websites that you can freely use to host Git repos online, including GitHub and GitLab.</p>
<p>Look back at the output of the git status command earlier and you will notice that it mentions that you are “On branch master.” A branch is simply a section of your Git repo, much like the different partitions on a hard disk. Any changes you make to an original or cloned Git repo are part of the master branch by default. But you can create as many other branches as you like to store changes that you may want to experiment with. Once you are satisfied that the changes work as you expected, you can merge the changes you made in your branch with the files in the master branch.</p>
<p>Normally, you maintain an original repo on your computer that other users download (clone). Rather than modifying the master branch on their cloned copy, the other users would normally create separate branches on their cloned copy to test their modifications, and perform commits as necessary. Once the modifications are working well, they can upload (push) the branch to the original repo on your computer where you can view the changes and merge them into the master branch. And after there’s an updated master branch on the original repo, others can then download (pull) a fresh copy of the master branch to get the new changes.</p>
<p>Let’s experiment with this using another user (root) on the same computer - the only requirement is that the other user have read/write access to your repo folder.</p>
<p>The following commands run by the root user (the other user) create a cloned copy of the myscripts repo (/home/jason.eckert/myscripts) within the root user’s home directory (/root) using the git clone command:</p>
<pre tabindex="0"><code>[root@csc-studev01 myscripts]# pwd
/root
[root@csc-studev01 ~]# git clone /home/jason.eckert/myscripts/
Cloning into &#39;myscripts&#39;...
done.
[root@csc-studev01 ~]# cd myscripts/
[root@csc-studev01 myscripts]# pwd
/root/myscripts
[root@csc-studev01 myscripts]# ls
chownscript.sh  filemaintain.sh  newuserscript.sh  seccheck.sh  sysusage.sh
[root@csc-studev01 myscripts]# _
</code></pre><p>If you were cloning this from another computer, you’d have to use git clone username@hostname:/path instead.  For example, to clone this repo on triosdevelopers.com to your local computer, you’d have to use the command git clone <a href="mailto:root@triosdevelopers.com">root@triosdevelopers.com</a>:/home/jason.eckert/myscripts/ and supply the root user’s password when prompted.</p>
<p>Now, let’s make a branch called AddSIEM that we can use to test out adding SIEM functionality to our seccheck.sh script and view our branch when finished:</p>
<pre tabindex="0"><code>[root@csc-studev01 myscripts]# git checkout -b AddSIEM
Switched to a new branch &#39;AddSIEM&#39;
[root@csc-studev01 myscripts]# git branch
* AddSIEM
  master
[root@csc-studev01 myscripts]# _
</code></pre><p>Notice that the git branch command indicates that AddSIEM is our current branch (*).  Now, let’s modify the script, view the modification, stage and commit it:</p>
<pre tabindex="0"><code>[root@csc-studev01 myscripts]# vi seccheck.sh
[root@csc-studev01 myscripts]# git status
On branch AddSIEM
Changes not staged for commit:
  (use &#34;git add &lt;file&gt;...&#34; to update what will be committed)
  (use &#34;git checkout -- &lt;file&gt;...&#34; to discard changes in working directory)

modified:   seccheck.sh

no changes added to commit (use &#34;git add&#34; and/or &#34;git commit -a&#34;)
[root@csc-studev01 myscripts]# git add *
[root@csc-studev01 myscripts]# git commit -m &#34;Added SIEM to seccheck.sh&#34;
[AddSIEM e94d34e] Added SIEM to seccheck.sh
1 file changed, 1 insertion(+), 1 deletion(-)
[root@csc-studev01 myscripts]# _
</code></pre><p>At this point, you’ve modified the seccheck.sh script in the AddSIEM branch only.  If you switched back to the master branch in your cloned repo using the git checkout master command and viewed the seccheck.sh file, you’d see that your changes are not there!  That’s because they are only shown in the AddSIEM branch.</p>
<p>Now, let’s push our branch to the original repo - luckily, you don’t have to remember the location of the original repo, because after you clone a repo, Git remembers the original location and allows you to use the word “origin” to refer to it:</p>
<pre tabindex="0"><code>[root@csc-studev01 myscripts]# git push origin AddSIEM
Counting objects: 3, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 293 bytes | 0 bytes/s, done.
Total 3 (delta 2), reused 0 (delta 0)
To /home/jason.eckert/myscripts/
* [new branch]      AddSIEM -&gt; AddSIEM
[root@csc-studev01 myscripts]# _
</code></pre><p>This uploaded the AddSIEM branch from the cloned repo (in /root/myscripts) to the original repo (in /home/jason.eckert/myscripts). Let’s switch back to the jason.eckert user and see if the branch was successfully uploaded to the original repo with the git branch command, and then merge the changes in the AddSIEM branch with our current branch (master) using the git merge command:</p>
<pre tabindex="0"><code>[jason.eckert@csc-studev01 myscripts]$ git branch
  AddSIEM
* master
[jason.eckert@csc-studev01 myscripts]$ git merge AddSIEM
Updating 53f9566..e94d34e
Fast-forward
seccheck.sh | 2 +-
1 file changed, 1 insertion(+), 1 deletion(-)
[jason.eckert@csc-studev01 myscripts]$ _
</code></pre><p>That’s it!  Now, other users who have a cloned copy of the original repo can run git pull origin master to download an updated (merged) copy of the master branch from the original location that has the new SIEM feature added to the seccheck.sh script. Let’s switch back to the cloned repo in the root user’s home directory and do this:</p>
<pre tabindex="0"><code>[root@csc-studev01 myscripts]# git pull origin master
From /home/jason.eckert/myscripts
* branch            master     -&gt; FETCH_HEAD
   53f9566..e94d34e  master     -&gt; origin/master
Already up-to-date.
[root@csc-studev01 myscripts]# _
</code></pre><p>For all new modifications made by other users we simply repeat this process:</p>
<ul>
<li>Other users clone the repo (or pull an updated copy of the master branch), create a new branch to store their modifications, and perform commits in this branch as necessary</li>
<li>When they are happy with their changes, the other users push the branch to the original repo, where it can be viewed by others and merged into the master branch.</li>
</ul>
<p>Here is a summary of git commands that you should find useful at this point:</p>
<ul>
<li><code>git clone /path</code> Clones a local Git repo to the current directory</li>
<li><code>git clone username@hostname:/path</code> Clones a remote Git repo to the current directory</li>
<li><code>git checkout -b &lt;branchname&gt;</code> Creates a new branch, and switches to it</li>
<li><code>git checkout &lt;branchname&gt;</code> Switches to a different branch</li>
<li><code>git branch</code> Views branches in the repo</li>
<li><code>git branch -d &lt;branchname&gt;</code> Deletes a branch</li>
<li><code>git push origin &lt;branchname&gt;</code> Pushes a branch to the original repo location</li>
<li><code>git pull origin &lt;branchname&gt;</code> Pulls a branch from the original repo location</li>
</ul>
<h1 id="part-3-so-what-about-online-repo-sites-like-github">PART 3: So what about online repo sites like GitHub?</h1>
<p>Well, that’s easier than you think!  Go to GitHub.com and create a free account.  Next, create a new public repository called myscripts.</p>
<p><img src="git2.jpg#center" alt="git2" title="git2"></p>
<p>Finally, on your local computer, you can run the following commands to push the contents of the your repo to GitHub and set GitHub as the original repo (which turns your local computer’s repo into a cloned copy from that point onwards).</p>
<pre tabindex="0"><code>cd /path/to/repo
git remote add origin https://github.com/accountname/nameofGitHubrepo.git
</code></pre><p>But you don’t have to remember these commands because when you create a new repo within GitHub, it gives you the commands at the bottom of the screen:</p>
<p><img src="git3.jpg#center" alt="git3" title="git3"></p>
<p>Now, in my example above, I can go to any computer running git and type <code>git clone https://github.com/jasoneckert/myscripts.git</code> to clone the original repo, make branches, do commits, push those commits back to GitHub (you’ll be prompted for your account password), and merge them into your master branch on GitHub.  Or, I can go to each Linux server I want to run these scripts on and run the <code>git clone https://github.com/jasoneckert/myscripts.git</code> command to download the scripts I made from a central repository on the Internet!</p>

  </div>
  <div class="mt-4 d-flex flex-row justify-content-around">
  <div>
    <a
      href="/myblog/how-the-cloud-grew-up-around-linux/"
      data-toggle="tooltip"
      data-placement="top"
      title="How the cloud grew up around Linux"
      ><i class="fas fa-chevron-circle-left" style="font-size: 2em;"></i></a
    >
  </div>
  <div>
    <a
      href="/myblog/devops-demystified/"
      data-toggle="tooltip"
      data-placement="top"
      title="Devops Demystified"
      ><i class="fas fa-chevron-circle-right" style="font-size: 2em;"></i></a
    >
  </div>
</div>

</article>
<script>
  let showMetadata = function(x) {
    let elem = x.parentNode.nextElementSibling;
    if (window.getComputedStyle(elem)["height"] === "0px") {
      elem.style.maxHeight = elem.scrollHeight + "px";
      x.innerHTML = "&times;";
      x.title = "Hide Metadata";
    } else {
      elem.style.maxHeight = "0px";
      x.innerHTML = "&#43;";
      x.title = "Show Metadata";
    }
  };
</script>


      </main>
    </div>
    <footer>
  <div class="w-60 bg-danger ml-auto mr-auto mt-4" style="height: 4px;"></div>
  <div class="mt-0 mb-0" style="font-size: 1.7em;">
    <p class="text-center">
      WARNING: FULL FRONTAL NERDITY (tech-challenged persons strongly cautioned) 
    </p>
  </div>
</footer>

  </body>
</html>

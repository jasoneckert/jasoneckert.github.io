<!DOCTYPE html>
<html lang="en-us">
  <head>
  <title>Jason Eckert&#39;s Website and Blog</title>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <meta name="description" content="My personal website and blog" />
  <meta name="author" content="Jason Eckert" />
  <meta name="generator" content="Jason Eckert Hugo 0.148.1" />

  <link
    rel="stylesheet"
    href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
    crossorigin="anonymous"
  />
  <link
    rel="stylesheet"
    href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"
  />
  <link
    href="https://fonts.googleapis.com/css?family=Overlock|Roboto+Mono&display=swap"
    rel="stylesheet"
  />
  <link rel="stylesheet" href="/css/mero.css" />

  <script src="/js/mero.js"></script>
</head>

  <body class="bg-dark text-white m-auto" style="width:95%; max-width: 1024px;">
    <div class="wrapper">
      <nav class="mb-3 mt-3 ml-1">
  <div class="d-flex flex-row">
    <div
      class="menu-item border border-warning bg-dark p-2"
      style="border-top-left-radius: 10px; border-bottom-left-radius: 10px;"
    >
      <a href="/"><span>Home</span> </a>
    </div>
    <div class="menu-item dropdown border border-warning bg-dark p-2">
      <span class="dropbtn text-warning" onclick="toggleMenu(this)"
        >Sections <i class="fas fa-angle-down"></i
      ></span>
      <div
        class="dropdown-content p-2 bg-dark2 mt-2 rounded w-auto mt-1 d-none"
        style="min-width: 200px;"
      >
        <ul class="list-unstyled">
          
          
          
          <li class="pt-2">
            <a href="https://jasoneckert.github.io/myblog/">Blog Posts</a>
          </li>
          
          
          
          
          <li class="pt-2">
            <a href="https://jasoneckert.github.io/bio/">About Me</a>
          </li>
          
          
          
          
          <li class="pt-2">
            <a href="https://jasoneckert.github.io/site/">My Policy on AI</a>
          </li>
          
          
          
          
          <li class="pt-2">
            <a href="https://jasoneckert.github.io/reads/">Recommended Reads</a>
          </li>
          
          
          
          
          <li class="pt-2">
            <a href="https://jasoneckert.github.io/trails/">Recommended Trails</a>
          </li>
          
          
          
          
          <li class="pt-2">
            <a href="https://jasoneckert.github.io/info/">Tech Stuff</a>
          </li>
          
          
          
          
          
          
          
          
        </ul>
      </div>
    </div>
    <div class="menu-item border border-warning bg-dark p-2">
      <a
        href="/alltaxa/"
        ><span>Search</span>
      </a>
    </div>
    <div class="menu-item border border-warning bg-dark p-2"
    style="border-top-right-radius: 10px; border-bottom-right-radius: 10px;">
      <a
        href="/archive/"
        ><span>Archive</span>
      </a>
    </div>
  </div>
</nav>

      <main>
        
<article class="border rounded p-3 position-relative" style="margin-top: 2.5em;">
  <div class="header">
    <h1 style="font-size: 2.5em;">
      Demonstrating the Power of Apple Silicon using Actuated CI
    </h1>
    <div
    class="mb-1 mr-3 pl-1 pr-1 rounded bg-dark"
    style="position: absolute; top: -19px; font-size: 0.9em;"
  >
    <time>2025-08-09</time>    
    <span
      class="more"
      style="font-size: 1.5em;"
      title="Show Metadata"
      onclick="showMetadata(this)"
    >
      &#43;
    </span>
  </div><div class="m-2 metadata overflow-hidden" style="max-height: 0px;">
  
  <div class="metadata-value mb-1 taxa taxa-container-div list-sections">
    <div>
      Reading Time: 
5 mins
      
    </div>
    <div>
      Section:
      <a
        class="pl-1 pr-1 rounded border border-secondary"
        href="/myblog"
        title="Section"
      >Blog Posts</a>
    </div>
  </div>
  

  
  
  
  <div class="metadata-value mb-1 taxa taxa-container-div list-categories">
    Categories:
    
    <a
      class="pl-1 pr-1 rounded border border-secondary"
      href="/categories/tech"
      title="categories"
    >tech</a>
    
    <a
      class="pl-1 pr-1 rounded border border-secondary"
      href="/categories/computing"
      title="categories"
    >computing</a>
    
    <a
      class="pl-1 pr-1 rounded border border-secondary"
      href="/categories/it"
      title="categories"
    >IT</a>
    
    <a
      class="pl-1 pr-1 rounded border border-secondary"
      href="/categories/sysadmin"
      title="categories"
    >sysadmin</a>
    
    <a
      class="pl-1 pr-1 rounded border border-secondary"
      href="/categories/retro"
      title="categories"
    >retro</a>
    
    <a
      class="pl-1 pr-1 rounded border border-secondary"
      href="/categories/apple"
      title="categories"
    >Apple</a>
    
  </div>
  
  
  
  <div class="metadata-value mb-1 taxa taxa-container-div list-tags">
    Tags:
    
    <a
      class="pl-1 pr-1 rounded border border-secondary"
      href="/tags/bio"
      title="tags"
    >bio</a>
    
  </div>
  
  
</div>
</div>
  <div class="article pb-3 pt-3 border-bottom border-top">
    
    <p><img src="mac_studio.jpg#center" alt="Mac Studio" title="Mac Studio"></p>
<p>As you may have read in my previous blog posts, my main developer workstation is an Apple Mac Studio with an Apple Silicon M1 Max CPU. But instead of running macOS on it, I run Linux – specifically Fedora Asahi Remix, which is Fedora Linux for ARM + the native Apple hardware support provided by the Asahi Linux project.</p>
<p>While I prefer Linux to other operating systems, the main reason I do this is for speed – running Linux natively on my Mac Studio is at least twice as fast for every task compared to running macOS natively on it. Linux is simply faster and more optimized, and it can fully harness the power of the M1 Max.</p>
<p>A short while back, <a href="https://github.com/alexellis">Alex Ellis</a>, the founder of <a href="https://actuated.com/">Actuated</a>, reached out to me because he read my blog on Fedora Asahi Remix and knew I had a Mac Studio with an M1 Max running it. He was particularly interested in seeing the performance of running Actuated for ARM on it compared to his other ARM-based Linux systems. In the cloud and developer communities, it’s common courtesy to support each other with these kinds of requests, so I gladly agreed.</p>
<p> </p>
<h1 id="background-information">Background information:</h1>
<ul>
<li>
<h3 id="what-is-continuous-integration-ci">What is Continuous Integration (CI)?</h3>
<ul>
<li>CI focuses on automatically integrating code changes into a shared code repository and validating those changes through automated builds and tests. The tasks performed by CI are called runners if you use the GitLab code repository, or actions if you use the GitHub code repository.</li>
<li>CI is sometimes confused with Continuous Delivery/Deployment (CD), which builds upon CI by automating the release process, either delivering code to a staging environment for testing or to a production server.</li>
</ul>
<p> </p>
</li>
<li>
<h3 id="what-are-firecracker-microvms">What are Firecracker microVMs?</h3>
<ul>
<li>Firecracker microVMs are fast-booting, small virtual machines (VMs) that provide the lightweight benefits of a container, but with full isolation (including security) from the system running it. While originally designed by AWS to provide serverless functionality, they can be used for any purpose, including providing CI functionality.</li>
<li>If you&rsquo;re interested in learning more about the difference between Firecracker microVMs and containers, you can watch <a href="https://www.youtube.com/watch?v=pTQ_jVYhAoc">Alex&rsquo;s video on this topic</a>. To try out Firecracker on your own machine, you can <a href="https://actuated.com/blog/firecracker-container-lab">follow these steps</a>.</li>
</ul>
</li>
</ul>
<p> </p>
<ul>
<li>
<h3 id="what-is-actuated">What is Actuated?</h3>
<ul>
<li>Actuated is a platform that offers secure and fast CI for GitHub and GitLab using fast Firecracker microVMs on your own infrastructure, with support for the ARM platform that is fast becoming ubiquitous for developer workstations and servers. With Actuated, each microVM is created just in time to perform a CI task, and is removed immediately after.</li>
</ul>
</li>
</ul>
<p> </p>
<h1 id="so-how-did-we-do-this">So, how did we do this?</h1>
<p>Well, firstly, Alex needed to be able to perform the same benchmark – in this case, the time to compile a large kernel with container and eBPF capabilities (a CPU-intensive task) – that he performed on his other ARM-based Linux systems. Alex was using a Mac Mini M1 (running Asahi Linux) and Ampere Altra Q80 (using credits from Equinix Metal prior to their acquisition). To peform the benchmark, Alex provided instructions to deploy the Actuated agent on my system, in a way that he could connect to it behind my home NAT router.</p>
<p>Here’s what was involved on my end:</p>
<ul>
<li>Installing the <a href="https://docs.actuated.com/install-agent/#install-the-actuated-agent">Actuated agent</a></li>
<li>Using <code>inlets-pro</code> to create an outbound-initiated tunnel from behind my home NAT router to a cloud server that Alex could use to access my local Actuated agent service. <a href="https://docs.inlets.dev/">Inlets</a>, another project developed by Alex, provides options for both self-hosted and managed tunnel servers.</li>
<li>Troubleshooting issues (this is Linux after all!). A few initial issues caused the Actuated agent to crash, but after collaborating with Alex via LinkedIn chat and examining the system, I was able to figure out how to solve them. I had to add some SELinux exceptions and define a <code>WorkingDirectory</code> directive in the Actuated Systemd unit file to ensure PAM could run tasks as the root user. After that, the agent started perfectly:</li>
</ul>
<p><img src="actuated.png#center" alt="Actuated spin up" title="Actuated spin up"></p>
<p>Alex then connected remotely to perform his benchmarking. In the end, the results of the large kernel build for <code>make Image</code> (the equivalent of <code>make vmlinux</code>) were:</p>
<ul>
<li>Mac Studio M1 Max (20 cores allocated) = 121.4 seconds</li>
<li>Mac Mini M1 (8 cores allocated) = 301.9 seconds</li>
<li>Ampere Altra Q80 (32 cores allocated) = from 158.1 to 231.2 seconds</li>
</ul>
<p>Impressively, the M1 Max outperforms the Ampere Altra, even with a dozen fewer cores allocated. And Alex is thinking of getting a Mac Studio M2 Ultra (with 24 cores) to get even better results, since Asahi Linux supports that model as well (support for the M3 and M4 is still in progress, as the Asahi team remains focused on refining compatibility with the M1 and M2 chips).</p>
<p>Alex also noted that the Ampere Altra might have performed better if all 80 cores had been allocated. However, Firecracker imposes a hard limit of 32 cores per VM.</p>
<p>In a world where developer time is precious and CI performance can quickly become a bottleneck, fast ARM hardware like Apple Silicon makes a compelling case for running Actuated on personal infrastructure. The performance gains mainly come from higher CPU clock speeds and reduced storage and memory latency &ndash; thanks in large part to the unified memory architecture. Whether you&rsquo;re building in the cloud or locally, cutting even a few minutes from your pipelines can add up quickly. Perhaps most importantly, collaborating with others to validate and fine-tune these setups benefits everyone working toward faster, more efficient builds.</p>
<p>Here are two additional links worth exploring:</p>
<ul>
<li><a href="https://amperecomputing.com/blogs/ampere-computing-and-cncf-supporting-arm-native-ci-for-ncf-projects">Ampere Computing and CNCF Supporting Arm Native CI for CNCF Projects</a></li>
<li><a href="https://actuated.com/blog/millions-of-cncf-minutes">On Running Millions of Arm CI Minutes for the CNCF</a></li>
</ul>

  </div>
  <div class="mt-4 d-flex flex-row justify-content-around">
  <div><i class="text-secondary fas fa-chevron-circle-left" style="font-size: 2em;"></i></div>
  <div>
    <a
      href="/myblog/janet-jackson-dos/"
      data-toggle="tooltip"
      data-placement="top"
      title="Janet Jackson&#39;s Denial of Service (DoS) Attack"
      ><i class="fas fa-chevron-circle-right" style="font-size: 2em;"></i></a
    >
  </div>
</div>
<script src="https://giscus.app/client.js"
          data-repo="jasoneckert/jasoneckert.github.io"
          data-repo-id="MDEwOlJlcG9zaXRvcnkyMzUyMTE1MTk="
          data-category="Announcements"
          data-category-id="DIC_kwDODgUK_84ChWDV"
          data-mapping="pathname"
          data-strict="0"
          data-reactions-enabled="0"
          data-emit-metadata="0"
          data-input-position="bottom"
          data-theme="noborder_gray"
          data-lang="en"
          crossorigin="anonymous"
          async>
       </script>


</article>
<script>
  let showMetadata = function(x) {
    let elem = x.parentNode.nextElementSibling;
    if (window.getComputedStyle(elem)["height"] === "0px") {
      elem.style.maxHeight = elem.scrollHeight + "px";
      x.innerHTML = "&times;";
      x.title = "Hide Metadata";
    } else {
      elem.style.maxHeight = "0px";
      x.innerHTML = "&#43;";
      x.title = "Show Metadata";
    }
  };
</script>


      </main>
    </div>
    <footer>
  <div class="w-60 bg-danger ml-auto mr-auto mt-4" style="height: 4px;"></div>
  <div class="mt-0 mb-0" style="font-size: 1.7em;">
    <p class="text-center">
      WARNING: FULL FRONTAL NERDITY (tech-challenged persons strongly cautioned) 
    </p>
  </div>
</footer>

  </body>
</html>
